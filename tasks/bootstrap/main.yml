---

# FILE:            {{ role_path }}/tasks/bootstrap/main.yml
# LICENSE:         Public Domain

# Delta: Ubuntu 18.04 LTS
# ssh root@aguia-pescadora-delta.etica.ai

# Echo: Debian 10
# ssh root@aguia-pescadora-echo.etica.ai

# Foxtrot: CentOS 8
# ssh root@aguia-pescadora-foxtrot.etica.ai

# Golf: CentOS 7
# ssh root@aguia-pescadora-golf.etica.ai
#     ansible_python_interpreter: /usr/bin/python

# Anortosito: FreeBSD 12
# ssh root@rocha-anortosito.vps.fititnt.org
#    ansible_python_interpreter: /usr/local/bin/python3

# Basalto: OpenSUSE 15.1
# ssh root@rocha-basalto.vps.fititnt.org

# > AP-ALB v0.8.x adaptations to support RHEL/CentOS 8 family and design changes to allow flexibility even for non-tested OSs #34
#  - Variables via type of OS 
#    - https://docs.ansible.com/ansible/latest/modules/include_vars_module.html
#    - https://ansible-tips-and-tricks.readthedocs.io/en/latest/os-dependent-tasks/variables/
#  - ansible_pkg_mgr strategy, see
#    - https://ansible-tips-and-tricks.readthedocs.io/en/latest/os-dependent-tasks/installing_packages/
#    - https://github.com/openstack/openstack-ansible-galera_server/blob/master/tasks/galera_install.yml

#  - name: "bootstrap | ansible_facts"
#    debug:
#      msg: "{{ ansible_facts | default ('none') }}"

#  - name: "bootstrap | ansible_facts"
#    debug:
#      msg: "{{ ansible_facts.ansible_all_ipv4_addresses | default ('none') }}"

#- name: "bootstrap | should detect if have python?"
#  debug:
#    msg: "{{ ansible_facts }}"

#- name: "bootstrap | should detect if have python?"
#  debug:
#    msg: "{{ not ((ansible_facts is not defined) and (ansible_facts.ansible_all_ipv4_addresses is not defined)) }}"

# If lots of variables are not defined, this is likely to not even have python installed and running with 'gather_facts: false'
- name: "really-minimal-dependencies/main.yml"
  include: really-minimal-dependencies/main.yml
  when:
    - ansible_hostname is not defined
    - ansible_facts is not defined

- name: "basic-tools/main.yml"
  include: basic-tools/main.yml

- name: "basic-tools/main.yml"
  include: basic-tools/main.yml

- name: "alb-minimal/main.yml"
  include: alb-minimal/main.yml

- name: "alb-standard/main.yml"
  include: alb-standard/main.yml

# - name: "bootstrap | ansible_python_interpreter"
#   debug:
#     msg: "{{ ansible_python_interpreter | default ('none') }}"

# - name: "bootstrap | hello"
#   fail:
#     msg: "{{ ansible_facts }}"
#   when: true
