---

# FILE:            {{ role_path }}/tasks/bootstrap/repositories-3rd-party/haproxy.yml
# LICENSE:         Public Domain

- name: "bootstrap | repositories-3rd-party | haproxy.yml: apt_key (TODO: fix to remove warnings later)"
  apt_key: "{{ alb_internal_haproxy_apt_key }}"
  when:
    - "(alb_internal_haproxy_apt_key is defined) and (alb_internal_haproxy_apt_key.url is defined)"

- name: "bootstrap | repositories-3rd-party | haproxy.yml: apt_repository (TODO: fix to remove warnings later)"
  apt_repository: "{{ alb_internal_haproxy_apt_repository }}"
  when:
    - "(alb_internal_haproxy_apt_repository is defined) and (alb_internal_haproxy_apt_repository.repo is defined)"

- name: "bootstrap | repositories-3rd-party | haproxy.yml: yum_repository (TODO: fix to remove warnings later)"
  yum_repository: "{{ alb_internal_haproxy_yum_repository }}"
  when:
    - "(alb_internal_haproxy_yum_repository is defined) and (alb_internal_haproxy_yum_repository.baseurl is defined)"

## TODO: solve
# TASK [ap-application-load-balancer : bootstrap | repositories-3rd-party | haproxy.yml: apt_repository (TODO: fix to remove warnings later)] *******************************************************************************************
# [WARNING]: Using a variable for a task's 'args' is unsafe in some situations (see https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-unsafe)

# [WARNING]: Using a variable for a task's 'args' is unsafe in some situations (see https://docs.ansible.com/ansible/devel/reference_appendices/faq.html#argsplat-unsafe)

# skipping: [rocha_anortosito_freebsd12]
# skipping: [ap_foxtrot_centos8]
# skipping: [ap_golf_archilinux]
# skipping: [rocha_basalto_opensuse15]
# ok: [ap_delta_ubuntu18]
# fatal: [ap_echo_debian10]: FAILED! => {"changed": false, "msg": "apt cache update failed"}
    